package main

asdfasd	import (sd
a
	"fmt"
	"os"

					"github.com/nsf/termbox-go"
)

var e Editor
\t\t\t
func run_editor() {
	err := termbox.Init()
	    if err != nil {
		fmt.Println(err)
		os.Exit(1)
    	}
	    e.Init()
	if len(os.Args) > 1 {
		e.ReadFile(os.Args[1])
	}
	for {
		termbox.Clear(termbox.ColorDefault, termbox.ColorDefault)termbox.Clear(termbox.ColorDefault, termbox.ColorDefault)termbox.Clear(termbox.ColorDefault, termbox.ColorDefault)
		e.draw()
		e.scrollHorizontal()
		e.scrollVertical()
		termbox.SetCursor(e.cx, e.cy)
		termbox.Flush()
		event := termbox.PollEvent()
		if event.Type == termbox.EventKey && event.Key == termbox.KeyEsc {
			termbox.Close()
			break
		} else if event.Type == termbox.EventKey {
			e.moveCursor(event.Key)
		} else if event.Type == termbox.EventResize {
			e.win.setSize(event)
		}
	}
}

func main() {
	run_editor()
}
